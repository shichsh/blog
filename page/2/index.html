<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="Personal Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="shichsh">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="shichsh">
<meta property="og:description" content="Personal Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="shichsh">
<meta name="twitter:description" content="Personal Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"hide","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/"/>





  <title>shichsh</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-98629548-1', 'auto');
  ga('send', 'pageview');
</script>











  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">shichsh</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">As in all things, you get to have whatever you choose.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-geek">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-apple"></i> <br />
            
            Geek
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/18/JavaScript-Basic-demo10/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chengsheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shichsh">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/18/JavaScript-Basic-demo10/" itemprop="url">
                  JavaScript Basic demo10
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-18T14:53:40-04:00">
                2017-05-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="JS-Promise-continue"><a href="#JS-Promise-continue" class="headerlink" title="JS Promise (continue)"></a>JS Promise (continue)</h2><p>```JavaScript<br>var assert = require(“assert”);</p>
<p>function task1() {<br>    console.log(“Executing task1”);<br>}</p>
<p>function task2() {<br>    console.log(“Executing task2”);<br>}</p>
<p>function task3() {<br>    console.log(“Executing task3”);<br>}</p>
<p>function t1() {<br>    return new Promise(function(resolve, reject) {<br>        setTimeout(function() {<br>            task1();<br>            resolve(“Task1 is finished”);<br>        }, 500);<br>    });<br>}</p>
<p>function t2() {<br>    return new Promise(function(resolve, reject) {<br>        setTimeout(function() {<br>            task2();<br>            resolve(“Task2 is finished”);<br>        }, 1000);<br>    });<br>}</p>
<p>function t3() {<br>    return new Promise(function(resolve, reject) {<br>        setTimeout(function() {<br>            task3();<br>            // resolve(“Task3 is finished”);<br>            reject(“Task3 is rejected!”);<br>        }, 700);<br>    });<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">### Three status in promise: pending, fulfilled(resolved), rejected</div><div class="line"></div><div class="line">```JavaScriptvar promise = t1();promise.then(function(resp) &#123;	console.log(resp);	return t2();&#125;).then(function(resp) &#123;	console.log(resp);	return t3();&#125;).then(function(resp) &#123;	// console.log(resp);//&#125;);&#125;, function(error) &#123;	console.log(error);&#125;);// if status is fulfilled, it hold the data foreverpromise.then(function(resp) &#123;   // still hold the data, won&apos;t use 500ms	assert.equal(&quot;Task1 is finished&quot;, resp);&#125;);// Promise / Deferred Object(inheritance from Promise)// JS regular expression// var x = &quot;^[A-Z]&quot;, x = /^[A-Z]/</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/18/JavaScript-Basic-demo09/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chengsheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shichsh">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/18/JavaScript-Basic-demo09/" itemprop="url">
                  JavaScript Basic demo09
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-18T14:45:33-04:00">
                2017-05-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="JS-Promise"><a href="#JS-Promise" class="headerlink" title="JS Promise"></a>JS Promise</h2><pre><code class="JavaScript"><span class="keyword">var</span> assert = <span class="built_in">require</span>(<span class="string">"assert"</span>);

<span class="comment">// Callback function</span>
setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
    <span class="built_in">console</span>.log(<span class="string">"This is a callback function"</span>);
}, <span class="number">100</span>);
<span class="built_in">console</span>.log(<span class="string">"After callback function"</span>);
<span class="xml"><span class="comment"><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">### Command Pattern(GoF)(sync) step by stepint f(int x) &#123;	return 2 * x;&#125;int y = f(10);print(y); -&gt; 20y can not do anything requset - response pattern</div><div class="line">********************(async) do togetherint z = 0;void f(int x) &#123;	z = 2 * x;&#125;f(10);print(z);req resp third party```JavaScriptfunction task1() &#123;	console.log(&quot;Executing task1&quot;);&#125;function task2() &#123;	console.log(&quot;Executing task2&quot;);&#125;function task3() &#123;	console.log(&quot;Executing task3&quot;);&#125;// Callback Hells -&gt; asyncsetTimeout(function() &#123;	task1();	setTimeout(function() &#123;		console.log(&quot;End of Task1&quot;);		task2();		setTimeout(function() &#123;			console.log(&quot;End of Task2&quot;);			task3();			console.log(&quot;End of Task3&quot;);		&#125;, 700)	&#125;, 1000)&#125;, 500)In JS, promise solve the callback hell problem</div></pre></td></tr></table></figure></span>

* A trick

```JavaScript
function foo() {
    return  // return + new line == return ;
    {
        name: "Alice"
    };
}

var x = foo()
x -&gt; undefined</span>
</code></pre>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/18/JavaScript-Basic-demo08/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chengsheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shichsh">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/18/JavaScript-Basic-demo08/" itemprop="url">
                  JavaScript Basic demo08
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-18T11:35:24-04:00">
                2017-05-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="JS-Closure"><a href="#JS-Closure" class="headerlink" title="JS Closure"></a>JS Closure</h2><blockquote>
<p>JS closure is a function that is defined in another function. The inner function can access all the local variables of the outer function. If the inner function is returned, then the local variable of the outer function is still alive after the outer function is executed.</p>
</blockquote>
<ul>
<li>Disadvantage: Closure might result memory leak</li>
</ul>
<p>```JavaScript<br>var assert = require(“assert”);</p>
<p>function outer() {<br>    var m = 10;<br>    return function(x) {<br>        return x * m;<br>    }<br>}<br>var inner = outer();        // Now inner is a returned function that holds local variable m<br>assert.equal(20, inner(2));<br>assert.ok(typeof inner === “function”);</p>
<p>// Module Pattern<br>function getCounter() {<br>    var count = 0;<br>    return {<br>        getCount: function() {<br>            return count;<br>        },<br>        setCount: function(c) {<br>            count = c;<br>        },<br>        increase: function() {<br>            count++;<br>        }<br>    }<br>}<br>var myCount = getCounter();<br>assert.equal(0, myCount.getCount());<br>myCount.setCount(10);<br>assert.equal(10, myCount.getCount());<br>myCount.increase();<br>assert.equal(11, myCount.getCount());<br>assert.equal(undefined, myCount.count);<br>myCount.count = 100;<br>assert.equal(11, myCount.getCount());<br>assert.equal(100, myCount.count);</p>
<p>// An example<br>function MyClass() {<br>    this.x = 100; // For the first time, “this” is myClass<br>    var y = “abc”;<br>    var getX = function() {<br>        console.log(this.x);  // For the first time, “this” is window, window has no x variable<br>        console.log(y);<br>    };<br>    getX();   // getX.call(this)<br>    this.getY = function() {<br>        console.log(this.x);<br>        console.log(y);<br>    }<br>}<br>var myClass = new MyClass();<br>myClass.getY();<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">## Dynamic Naming Space -&gt; dependency injection</div><div class="line"></div><div class="line">```JavaScriptfunction fetch(context) &#123;	var count = 0;	context.getCount = function() &#123;		return count;	&#125;;	context.setCount = function(c) &#123;		count = c;	&#125;&#125;var o = &#123;count: 100&#125;;fetch(o);assert.equal(0, o.getCount());o.setCount(10);assert.equal(10, o.getCount());assert.equal(100, o.count);// Application 1: Singletonvar MySingle = (function() &#123;	var instance;	return &#123;		getInstance: function() &#123;			if (!instance) instance = new Object();			return instance;		&#125;	&#125;&#125;)();var ms1 = MySingle.getInstance();var ms2 = MySingle.getInstance();assert.ok(ms1===ms2);// Application 2: Define a function that returns 1 at the first, // returns 2 at the second time, and so onvar increase = (function() &#123;	var count = 1;	return function() &#123;		return count++;	&#125;&#125;)();assert.equal(1, increase());assert.equal(2, increase());assert.equal(3, increase());// Application 3: for (var i = 1; i &lt;= 5; i++) &#123;	/*	setTimeout(function() &#123;		console.log(i);	&#125;, 100 * i);  	*/	// same to set 0 ms, the callback function will be put to 	// the queue at last	setTimeout(handle(i), 0);&#125;// setTimeout(callback, ms) // callback functionfunction handle(index) &#123;	return function() &#123;		console.log(index);	&#125;&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/18/JavaScript-Basic-demo07/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chengsheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shichsh">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/18/JavaScript-Basic-demo07/" itemprop="url">
                  JavaScript Basic demo07
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-18T11:12:32-04:00">
                2017-05-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="JS-Prototype-continued"><a href="#JS-Prototype-continued" class="headerlink" title="JS Prototype (continued)"></a>JS Prototype (continued)</h2>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/05/18/JavaScript-Basic-demo07/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Chengsheng" />
          <p class="site-author-name" itemprop="name">Chengsheng</p>
           
              <p class="site-description motion-element" itemprop="description">Personal Blog</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">26</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chengsheng</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      本站访客数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      本站总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
